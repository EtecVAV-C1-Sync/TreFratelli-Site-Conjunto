<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title id="titulo">Chatbot - Tre Fratelli</title>

  <link rel="stylesheet" href="style.css">
  <script src="app.js" defer></script>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.3.2/css/flag-icons.min.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/fill/style.css">
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="language-selector">
      <button class="lang-btn" id="btn_1">
        <span id="flag"></span>
        <span id="langName">It</span>
        <i class="ph-fill ph-triangle" id="lang-arrow"></i>
      </button>

      <div class="lang-dropdown">
        <button onclick="setLanguage('it')" id="btn_2"><span class="fi fi-it"></span> It</button>
        <button onclick="setLanguage('en_uk')" id="btn_3"><span class="fi fi-gb"></span> En-Uk</button>
        <button onclick="setLanguage('pt_br')" id="btn_4"><span class="fi fi-br"></span> Pt-Br</button>
      </div>
    </div>

    <div class="header-icons">
      <button class="navegacao-btn" id="btn_5">
        <i class="ph-fill ph-robot"></i>
      </button>

      <div class="top-menu-icons">
        <a href="Storia.html" id="link_1"><i class="ph-fill ph-hourglass-low"></i></a>
        <a href="AttrazioniTuristiche.html" id="link_2"><i class="ph-fill ph-map-pin"></i></a>
        <a href="index.html" id="link_3"><i class="ph-fill ph-house"></i></a>
        <a href="vini.html"><img src="imagens/iconeVinho.png" alt="Vini"></a> <!-- To achando esse imagem mt estranha se nao conseguirem padronizar usem essa <i class="ph-fill ph-wine"></i> -->
        <a href="Cardapio.html" id="link_5"><i class="ph-fill ph-fork-knife"></i></a>
        <a href="chatbot.html" id="link_6"><i class="ph-fill ph-robot"></i></a>
      </div>
    </div>

    <p id="p_1"><img src="imagens/Logo Completa.jpeg" alt="Tre Fratelli" class="logo">Tre Fratelli</p>
  </header>

  <!-- ========================== CHATBOT ========================== -->
  <main class="chatbot-main">

    <!-- TÍTULO CENTRAL -->
    <div class="chatbot-title">
      <h1 id="h1_1">Cantina e Ristorante</h1>
      <h2 id="h2_1">Tre Fratelli</h2>
    </div>

    <!-- BLOCO DO CHATBOT -->
    <div class="chatbot-box">
      <button class="add-btn" id="btn_6"></button>

      <div class="chatbot-input-wrapper">
        <input type="text" class="chatbot-input" id="input_1"
               placeholder="Raccontami il tuo umore o il piatto che hai scelto">
      </div>

      <button class="mic-btn" id="btn_7"></button>
      <button class="send-btn" id="btn_8"></button>
    </div>

  </main>

</body>
<script>
const i18n = {
  it: {
    titulo: "Chatbot - Tre Fratelli",
    flag: "<span class='fi fi-it'></span>",
    langName: "It",
    btn_2: "<span class='fi fi-it'></span> It",
    btn_3: "<span class='fi fi-gb'></span> En-Uk",
    btn_4: "<span class='fi fi-br'></span> Pt-Br",

    h1_1: "Cantina e Ristorante",
    h2_1: "Tre Fratelli",
    p_1: "Tre Fratelli",
    input_1: "Raccontami il tuo umore o il piatto che hai scelto"
  },

  en_uk: {
    titulo: "Chatbot - Tre Fratelli",
    flag: "<span class='fi fi-gb'></span>",
    langName: "En-Uk",
    btn_2: "<span class='fi fi-it'></span> It",
    btn_3: "<span class='fi fi-gb'></span> En-Uk",
    btn_4: "<span class='fi fi-br'></span> Pt-Br",

    h1_1: "Winery and Restaurant",
    h2_1: "Tre Fratelli",
    p_1: "Tre Fratelli",
    input_1: "Tell me your mood or chosen dish"
  },

  pt_br: {
    titulo: "Chatbot - Tre Fratelli",
    flag: "<span class='fi fi-br'></span>",
    langName: "Pt-Br",
    btn_2: "<span class='fi fi-it'></span> It",
    btn_3: "<span class='fi fi-gb'></span> En-Uk",
    btn_4: "<span class='fi fi-br'></span> Pt-Br",

    h1_1: "Vinícola e Restaurante",
    h2_1: "Tre Fratelli",
    p_1: "Tre Fratelli",
    input_1: "Conte-me seu humor ou prato escolhido"
  }
};

function setLanguage(lang) {
  const elements = document.querySelectorAll('[id]');
  const translations = i18n[lang];

  elements.forEach(el => {
    const key = el.id;
    if (translations[key]) {
      if (/<\/?[a-z][\s\S]*>/i.test(translations[key])) {
        el.innerHTML = translations[key];
      } else {
        el.textContent = translations[key];
      }
    }
  });

  const input = document.getElementById('input_1');
  if (input && translations['input_1']) input.placeholder = translations['input_1'];

  localStorage.setItem('lang', lang);
}

document.addEventListener('DOMContentLoaded', () => {
  const savedLang = localStorage.getItem('lang') || 'it';
  setLanguage(savedLang);
});
</script>
</html>
